<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Chatapp with socket.io</title>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.js"></script>
    <script>
    $(() => {
       const socket = io();
       let name;

       $('form').submit(() => {
         name = $('#n').val()
         return false;
       })

       $('form').submit(() => {
         socket.emit('chat message', $('#m').val());
         $('#m').val('');

         return false;
       });


       socket.on('chat message', msg => {
      $('#messages').append($('<li>').text(`${name}: ` + msg));
    });
  });
</script>
    </script>
    <link rel="stylesheet" href="/styles.css">
  </head>
  <body>
     <ul id="messages"></ul>
     <form action="">
       <input id="n" autocomplete="off" /><button>Enter</button>
       <input id="m" autocomplete="off" /><button>Send</button>
     </form>

   </body>
</html>
